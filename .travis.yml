language: cpp
compiler:
  - clang
  - gcc

git:
  depth: 3
  submodules: false

os:
  - linux
  - osx

env:
  - BUILD_CONFIG=Debug
  - BUILD_CONFIG=Release

sudo: required
osx_image: xcode9.1

matrix:
  exclude:
    - os: linux
      compiler: clang
    - os: osx
      compiler: gcc

install:
  - ./ci/travis_setup.sh

script: python ci/build-all.py --sources $(pwd) --decoders All --sfml_root /tmp/SFML_ROOT --config ${BUILD_CONFIG} --build
